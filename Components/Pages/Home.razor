@page "/"
@using JournalApp.Services
@inject UserService UserSession
@inject NavigationManager Nav

<div class="home-container">
    <div class="header-section">

        @if (UserSession.IsLoggedIn)
        {
            <h1>Welcome back@(string.IsNullOrWhiteSpace(UserSession.CurrentUsername) ? "!" : $", {UserSession.CurrentUsername}!")</h1>

            <p @onclick='() => Nav.NavigateTo("/new-entry")'
               style="cursor:pointer; color: #e66b7a; text-decoration: underline;">
                What's on your mind today?
            </p>
        }
        else
        {
            <h1>Welcome to your Journal</h1>

            <p @onclick='() => Nav.NavigateTo("/login")'
               style="cursor:pointer; color: #e66b7a; text-decoration: underline;">
                Please login to start writing.
            </p>
        }

    </div>

    <div class="action-cards">
        @if (UserSession.IsLoggedIn)
        {
            <div class="card" @onclick='() => Nav.NavigateTo("/new-entry")'>
                <div class="icon">✍️</div>
                <h3>New Entry</h3>
            </div>
        }
        else
        {
            <div class="card" @onclick='() => Nav.NavigateTo("/login")'>
                <div class="icon">🔑</div>
                <h3>Login</h3>
            </div>
        }
    </div>
</div>
